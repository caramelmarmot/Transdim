@inject Transdim.Service.INewGameController NewGameController

<div class="form-row">
    <div class="col-8 col-lg-3">
        <select class="form-control " onchange=@ChangeFaction>
            @foreach (var faction in NewGameController.GetUnusedFactions(Game))
            {
                <option value=@faction>@faction.FriendlyName</option>
            }
        </select>
    </div>
    <div class="col-4 form-check form-inline">
        <input class="form-check-input" type="checkbox" bind="@Player.IsAutoma" />
        <label class="form-check-label">
            Automa?
        </label>
    </div>
</div>

@functions{
    [Parameter]
    private Player Player { get; set; }

    [Parameter]
    private Game Game { get; set; }



    public void ChangeFaction(UIChangeEventArgs e)
    {
        Enum.TryParse(e.Value.ToString(), out FactionIdentifier factionIdentifier);

        var faction = NewGameController.GetFactionByIdentifier(factionIdentifier);

        Player.Faction = faction;
    }
}